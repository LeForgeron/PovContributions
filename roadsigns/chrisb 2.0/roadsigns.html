<html>
<style>
  .codesample {background-color:#FFFFAA;width:500;padding:8px}
  body {font-family:arial;font-size:80%}
  h1 {color:#0000AA}
  h2 {color:#0000AA}
  h3 {color:#0000AA}
  th {background-color:#F0F0FF;padding:8px;text-align:left}
  .macroheaders {text-align:center}
  td {font-size:80%}
</style>
<head>
  <title>POV-Ray Object Collection - Roadsigns macro</title>
</head>
<body>

  <a name='toc'></a>
<table width=100%>
<tr><td width=100%>
  <h1 style="text-align:center">POV-Ray Object Collection<br>Roadsigns Macro</h1>
<hr>
  <a href="#intro"         >Overview                  </a><br>
  <a href="#adding"        >Adding New Signs          </a><br>
<p>
  <a href="#files"         >Files in this Distribution</a><br>
  <a href="#redistribution">Redistribution            </a><br>
  <a href="#macros"        >Macro Reference           </a><br>
  <a href="#variables"     >Variable Reference        </a><br>
<p>
  <a href="http://lib.povray.org/searchcollection/download.php?objectName=RoadSigns&contributorTag=chrisb&version=2.0"
    onclick="if (navigator.appName=='Microsoft Internet Explorer') this.click();"  
  >
    <input type=button value="Download RoadSigns V2.0">
  </a>
  
  
</td><td>
<img src="roadsigns.png" width=640 height=480>
</td></tr>
</table>

<hr>






  <a name='intro'></a>
  <h1>Overview</h1>
The Roadsigns macros were created by Chris Bartlett in March 2008 for the <a href="http://lib.povray.org/">POV-Ray Object Collection at http://lib.povray.org/</a> (search for 'Roadsigns') and are licensed under the terms of the <a href="http://creativecommons.org/licenses/LGPL/2.1/">CC-LGPL</a>.  The download consists of an include file containing prism objects representing the symbols used on road signs in the UK and an include file containing a set of macros that can combine these symbols with road sign shapes.
<p>
To add a road sign to your scene file you include the "roadsigns.inc" file and call the 'Roadsigns_Panel' macro. 
<p>
<div class=codesample>
    light_source { <-15,7.5,-15>, rgb 2}
<br>camera {location -y look_at 0}
<br>#include "roadsigns.inc"        
<br>Roadsigns_Panel("Warning", "WildHorses")
<br>object {Roadsigns_Panel("Regulatory", "NoCarsOrBikes") translate 0.6*y}
</div>
<p>
Various examples are provided in the file 'roadsigns.pov'. Dimensions are specified in metres. The ScaleConvert macro from the <a href="http://lib.povray.org/">POV-Ray Object Collection</a> can be used to convert between different units of measure.
<p>
The following pre-defined symbols are provided. <b>Note.</b> Although the symbols in the table below are categorised by the 'type' of sign they normally appear on, you can use any symbol with any sign type. Just specify the sign type ("Warning", "Regulatory", "Compulsory", "Hazard" etc.) as the first parameter to the 'Roadsigns_Panel' macro and the symbol name ("HumpBridge", "Fire" etc.) as the second parameter:
<p>
<table border=1>
<tr><th colspan=5>"Warning" symbols (Triangular warning signs)</th></tr>
<tr>
<td><img src="roadsigns_documentimages01.gif"><br>"Aircraft"                   </td>
<td><img src="roadsigns_documentimages61.gif"><br>"AccompaniedHorses"          </td>
<td><img src="roadsigns_documentimages51.gif"><br>"BendToLeft"                 </td>
<td><img src="roadsigns_documentimages50.gif"><br>"BendToRight"                </td>
<td><img src="roadsigns_documentimages02.gif"><br>"Cattle"                     </td>
</tr><tr>
<td><img src="roadsigns_documentimages47.gif"><br>"Crossroads"                 </td>
<td><img src="roadsigns_documentimages62.gif"><br>"CycleRoute"                 </td>
<td><img src="roadsigns_documentimages03.gif"><br>"DoubleBendLeft"             </td>
<td><img src="roadsigns_documentimages04.gif"><br>"DoubleBendRight"            </td>
<td><img src="roadsigns_documentimages05.gif"><br>"DualCarriagewayEnds"        </td>
</tr><tr>
<td><img src="roadsigns_documentimages06.gif"><br>"FallingRocks"               </td>
<td><img src="roadsigns_documentimages07.gif"><br>"FrailPedestrians"           </td>
<td><img src="roadsigns_documentimages08.gif"><br>"HumpBridge"                 </td>
<td><img src="roadsigns_documentimages65.gif"><br>"Humps"                      </td>
<td><img src="roadsigns_documentimages09.gif"><br>"JunctionOnBend"             </td>
</tr><tr>
<td><img src="roadsigns_documentimages10.gif"><br>"LevelCrossingWithBarrier"   </td>
<td><img src="roadsigns_documentimages11.gif"><br>"LevelCrossingWithoutBarrier"</td>
<td><img src="roadsigns_documentimages12.gif"><br>"MenAtWork"                  </td>
<td><img src="roadsigns_documentimages13.gif"><br>"OpeningBridge"              </td>
<td><img src="roadsigns_documentimages60.gif"><br>"OverheadElectricCable"      </td>
</tr><tr>
<td><img src="roadsigns_documentimages59.gif"><br>"Pedestrians"                </td>
<td><img src="roadsigns_documentimages14.gif"><br>"Quayside"                   </td>
<td><img src="roadsigns_documentimages15.gif"><br>"RiskOfGrounding"            </td>
<td><img src="roadsigns_documentimages63.gif"><br>"RiskOfIce"                  </td>
<td><img src="roadsigns_documentimages16.gif"><br>"RoadNarrowsBothSides"       </td>
</tr><tr>
<td><img src="roadsigns_documentimages17.gif"><br>"RoadNarrowsOnLeft"          </td>
<td><img src="roadsigns_documentimages18.gif"><br>"RoadNarrowsOnRight"         </td>
<td><img src="roadsigns_documentimages19.gif"><br>"Roundabout"                 </td>
<td><img src="roadsigns_documentimages58.gif"><br>"SchoolCrossing"             </td>
<td><img src="roadsigns_documentimages20.gif"><br>"Sidewinds"                  </td>
</tr><tr>
<td><img src="roadsigns_documentimages54.gif"><br>"SlipperyRoad"               </td>
<td><img src="roadsigns_documentimages66.gif"><br>"SoftVerges"                 </td>
<td><img src="roadsigns_documentimages21.gif"><br>"StaggeredJunction"          </td>
<td><img src="roadsigns_documentimages55.gif"><br>"SteepHillDownwards"         </td>
<td><img src="roadsigns_documentimages56.gif"><br>"SteepHillUpwards"           </td>
</tr><tr>
<td><img src="roadsigns_documentimages48.gif"><br>"TJunctionWithPriority"      </td>
<td><img src="roadsigns_documentimages49.gif"><br>"TrafficMergingFromLeft"     </td>
<td><img src="roadsigns_documentimages64.gif"><br>"TrafficQueues"              </td>
<td><img src="roadsigns_documentimages53.gif"><br>"TrafficSignals"             </td>
<td><img src="roadsigns_documentimages22.gif"><br>"TramcarCrossing"            </td>
</tr><tr>
<td><img src="roadsigns_documentimages57.gif"><br>"TunnelAhead"                </td>
<td><img src="roadsigns_documentimages23.gif"><br>"TwoWayTraffic"              </td>
<td><img src="roadsigns_documentimages24.gif"><br>"TwoWayTrafficCrossing"      </td>
<td><img src="roadsigns_documentimages52.gif"><br>"UnevenRoad"                 </td>
<td><img src="roadsigns_documentimages25.gif"><br>"WildAnimals"                </td>
</tr><tr>
<td><img src="roadsigns_documentimages26.gif"><br>"WildHorses"                 </td>
<td><img src="roadsigns_documentimages67.gif"><br>"ZebraCrossing"              </td>
</tr>
<tr><th colspan=5>"Regulatory" symbols (Signs giving orders)</th></tr>
<tr>
<td><img src="roadsigns_documentimages68.gif"><br>"HeightLimit"                </td> 
<td><img src="roadsigns_documentimages29.gif"><br>"MaxTruckLength"             </td>
<td><img src="roadsigns_documentimages30.gif"><br>"MaxTruckWeight"             </td> 
<td><img src="roadsigns_documentimages70.gif"><br>"NoBuses"                    </td> 
<td><img src="roadsigns_documentimages27.gif"><br>"NoCarsOrBikes"              </td>
</tr><tr>
<td><img src="roadsigns_documentimages71.gif"><br>"NoCycling"                  </td> 
<td><img src="roadsigns_documentimages28.gif"><br>"NoExplosives"               </td>
<td><img src="roadsigns_documentimages72.gif"><br>"NoLeftTurn"                 </td> 
<td><img src="roadsigns_documentimages73.gif"><br>"NoOvertaking"               </td> 
<td><img src="roadsigns_documentimages74.gif"><br>"NoRightTurn"                </td> 
</tr><tr>
<td><img src="roadsigns_documentimages75.gif"><br>"NoTowedCaravans"            </td> 
<td><img src="roadsigns_documentimages76.gif"><br>"NoUTurns"                   </td> 
<td><img src="roadsigns_documentimages77.gif"><br>"NoVehicles"                 </td> 
<td><img src="roadsigns_documentimages78.gif"><br>"PriorityToOncomingVehicles" </td> 
<td><img src="roadsigns_documentimages69.gif"><br>"WidthLimit"                 </td> 
</tr>
<tr><th colspan=5>"Compulsory" symbols (Signs giving orders)</th></tr>
<tr>
<td><img src="roadsigns_documentimages79.gif"><br>"AheadOnly"            </td> 
<td><img src="roadsigns_documentimages80.gif"><br>"BusesAndCyclesOnly"   </td> 
<td><img src="roadsigns_documentimages81.gif"><br>"CyclesOnly"           </td> 
<td><img src="roadsigns_documentimages31.gif"><br>"KeepLeft"             </td>
<td><img src="roadsigns_documentimages32.gif"><br>"KeepRight"            </td>
</tr><tr>
<td><img src="roadsigns_documentimages82.gif"><br>"MiniRoundabout"       </td> 
<td><img src="roadsigns_documentimages35.gif"><br>"PassEitherSide"       </td> 
<td><img src="roadsigns_documentimages83.gif"><br>"SegregatedPedestrian" </td> 
<td><img src="roadsigns_documentimages84.gif"><br>"TramsOnly"            </td> 
<td><img src="roadsigns_documentimages85.gif"><br>"TurnLeft"             </td> 
</tr><tr>
<td><img src="roadsigns_documentimages33.gif"><br>"TurnLeftAhead"        </td>
<td><img src="roadsigns_documentimages86.gif"><br>"TurnRight"            </td> 
<td><img src="roadsigns_documentimages34.gif"><br>"TurnRightAhead"       </td> 
</tr>
<tr><th colspan=5>Where no symbol is found the symbol 'name' is displayed. e.g.</th></tr>
<tr>
<td><img src="roadsigns_documentimages36.gif"><br>"Regulatory","20"</td>
<td><img src="roadsigns_documentimages37.gif"><br>"Regulatory","60"</td>
<td><img src="roadsigns_documentimages1002.gif"><br>"Compulsory","30"</td>
<td><img src="roadsigns_documentimages38.gif"><br>"Warning","!"</td>
<td><img src="roadsigns_documentimages39.gif"><br>"Warning","?"</td>
</tr>
<tr><th colspan=5><a name="hazard"></a>"Hazard" symbols  </th></tr>
<tr><td colspan=5>
<b>Note</b>. These symbols are contained in the "roadsigns_hazardsymbols.inc" include file. To use this file add the following line:
<div class=codesample>#declare Roadsigns_SymbolFile = "roadsigns_hazardsymbols.inc";</div>
to your scene file before calling the 'Roadsigns_Panel' macro
</td></tr>
<tr>
<td><img src="roadsigns_documentimages40.png"><br>"ScullAndCrossBones"</td>
<td><img src="roadsigns_documentimages41.png"><br>"Cross"             </td>
<td><img src="roadsigns_documentimages42.png"><br>"Explosion"         </td>
<td><img src="roadsigns_documentimages43.png"><br>"Fire"              </td> 
<td><img src="roadsigns_documentimages44.png"><br>"Oxidation"         </td> 
</tr><tr>
<td><img src="roadsigns_documentimages45.png"><br>"Corrosion"         </td> 
<td><img src="roadsigns_documentimages46.png"><br>"Biohazard"         </td> 
</tr>
</table>
<table border=1>
<tr><th colspan=5><a name="oddments"></a>Oddments  </th></tr>
<tr><td colspan=5>
A number of UK roadsigns are relatively unique and have been added as special variants. You can of course still use these special types of roadsigns with any of the other symbols and you can use these symbols with other types of sign.
</td></tr><tr><td>
  <div class=codesample>
    Roadsigns_Panel("Octagonal", "STOP")  
  </div>
</td><td>
  <img src="roadsigns_documentimages1011.gif">
</td></tr><tr><td>
  <div class=codesample>
    #declare Roadsigns_SymbolBackground = <0,164,078>/255;<br>
    Roadsigns_Panel("Compulsory", "GO")  
  </div>
  Usually used as a temporary, manually operated roadsign at roadworks.
</td><td>
  <img src="roadsigns_documentimages1001.gif">
</td></tr><tr><td>
  <div class=codesample>
    #declare Roadsigns_SymbolBackground = <0,117,189>/255;<br>
    Roadsigns_Panel("Regulatory", "NoWaiting")  
  </div>
</td><td>
  <img src="roadsigns_documentimages1003.gif">
</td></tr><tr><td>
  <div class=codesample>
    #declare Roadsigns_SymbolBackground = <0,117,189>/255;<br>
    Roadsigns_Panel("Regulatory", "Clearway")  
  </div>
</td><td>
  <img src="roadsigns_documentimages1004.gif">
</td></tr><tr><td>
  <div class=codesample>
    Roadsigns_Panel("Plain_White_Circle", "NationalSpeedLimit")
  </div>
</td><td>
  <img src="roadsigns_documentimages1006.gif">
</td></tr><tr><td>
  <div class=codesample>
    #declare Roadsigns_SymbolBackground = 0.8*<222, 52, 57>/255;
    Roadsigns_Panel("Compulsory", "NoEntry")  
  </div>
</td><td>
<img src="roadsigns_documentimages1007.gif">
</td></tr><tr><td>
  <div class=codesample>
    #declare Roadsigns_SymbolBackground = <1,227/255,0>;<br>
    Roadsigns_Panel("Regulatory", "SchoolCrossingPatrol")  
  </div>
</td><td>
  <img src="roadsigns_documentimages1008.gif">
</td></tr><tr><td>
  <div class=codesample>
    #declare Roadsigns_SymbolText = "30";<br>
    Roadsigns_Panel("Compulsory", "EndMinimumSpeed")  
  </div>
</td><td>
  <img src="roadsigns_documentimages1005.gif">
</td></tr><tr><td>
  <div class=codesample>
    Roadsigns_Panel("InvertedWarning", "")  
  </div>
  Used for advanced warning of a 'STOP' or 'Give Way' sign
</td><td>
  <img src="roadsigns_documentimages1009.gif">
</td></tr><tr><td>
  <div class=codesample>
    Roadsigns_Panel("InvertedWarning", "GiveWay")  
  </div>
</td><td>
  <img src="roadsigns_documentimages1010.gif">
</td></tr><tr><td>
  <div class=codesample>
  #declare Roadsigns_FaceWidth = 0.36;<br>
  object {Roadsigns_Panel("RoundedRectangle", "AheadOnly")}
  </div>
  By using the "Ahead Only" symbol on a rounded rectangular sign you can generate a "One Way Traffic" sign. 
</td><td>
  <img src="roadsigns_documentimages1012.gif">
</td></tr><tr><td>
  <div class=codesample>
  object {Roadsigns_Panel("RoundedRectangle", "Parking")}  
  </div>
  The plain parking sign is one of the few rectangular signs that can be generated without setting variables because it can use the default square settings.   
</td><td>
  <img src="roadsigns_documentimages1013.gif">
</td></tr><tr><td>
  <div class=codesample>
  #declare Roadsigns_FaceWidth = 0.43;<br>
  #declare Roadsigns_SymbolText = "1 mile";<br>
  object {Roadsigns_Panel("RoundedRectangle", "Parking")}  
  </div>
  You can add your own text to the parking sign, but you'll probably need to adjust 'Roadsigns_FaceWidth' accordingly. If 'Roadsigns_SymbolText' is defined the macro scales the 'P' to make space below it for the text. 
</td><td>
  <img src="roadsigns_documentimages1014.gif">
</td></tr><tr><td>
  <div class=codesample>
  #declare Roadsigns_SymbolBackground = 0.8*<222, 52, 57>/255;<br> 
  #declare Roadsigns_FaceWidth = 0.8;<br>
  #declare Roadsigns_TextArray = array [3]{"REDUCE","SPEED","NOW"};<br>
  object {Roadsigns_Panel("RoundedRectangle", "TextArray")}  
  </div>
  The "TextArray" symbol uses text from the 'Roadsigns_TextArray' array to display multiple lines of text on whatever style of sign you choose.
</td><td>
  <img src="roadsigns_documentimages1015.gif">
</td></tr><tr><td>
  <div class=codesample>
  #declare Roadsigns_FaceHeight = 0.30;<br>
  #declare Roadsigns_TextArray = array [2]{"GIVE WAY","50 yds"};<br>
  object {Roadsigns_Panel("SupplementaryInformation", "TextArray")}  
  </div>
  The "SupplementaryInformation" sign accompanies other signs. This example would typically be displayed below a blank "InvertedWarning" sign to indicate the distance to a Give Way line ahead.
</td><td>
  <img src="roadsigns_documentimages1016.gif">
</td></tr><tr><td>
  <div class=codesample>
  #declare Roadsigns_FaceHeight = 0.30;<br>
  #declare Roadsigns_FaceWidth = 0.68;<br>
  #declare Roadsigns_TextArray = array [2]{"No footway","for 400 yds"};<br>
  object {Roadsigns_Panel("SupplementaryInformation", "TextArray")}  
  </div>
</td><td>
  <img src="roadsigns_documentimages1017.gif">
</td></tr>


</table>
<p align=center><a href=#toc>Return to Table of Contents</a>
<hr>





  <a name='adding'></a>
  <h1>Adding New Signs</h1>
The easiest way to add a new sign design is to add a prism object to the 'roadsigns_uksymbols.inc' file then update the 'Roadsigns_UKSymbolTexture' macro in the file 'roadsigns.inc', adding a clause to handle your new symbol. For example, to add a symbol called 'Hedgehog' you should call your prism object 'Roadsigns_Hedgehog' and add the following lines to the 'Roadsigns_UKSymbolTexture' macro:
<p>
<table><tr><td>
<div class=codesample>
   #case (strcmp(SymbolName,"Hedgehog"))  
<br>&nbsp;&nbsp;#local Roadsigns_SymbolOffset = <-0.1 ,-0.55,0>;  // Hedgehog
<br>&nbsp;&nbsp;#local Roadsigns_ThisSymbolTexture = texture {
<br>&nbsp;&nbsp;&nbsp;&nbsp;Roadsigns_PrismToTexture(Roadsigns_Hedgehog,<1,1,1,1>,Roadsigns_SymbolColor)
<br>&nbsp;&nbsp;}
<br>#break
</div>
</td><td style="font-size:9pt">
A 'case' clause is added into the 'select' statement within the 'Roadsigns_UKSymbolTexture' macro. This macro consists almost entirely of different case statements for each of the different symbols. This example implements a 'case' clause to handle the symbol named "Hedgehog". 
<p>
The piece of code that adds the symbol to the sign initialy centres it within the sign. If the symbol is asymmetrical it may then need to be moved left or right (e.g. -0.1 in 'x'). It may also need moving up or down to get it looking right for the shape of the sign you wish to use it with (e.g. -0.55 in 'y'). The unit of measure used for the offset is the width of the border around the edge of the sign, i.e. 1 unit = 1 border width.
<p>
The parameters to the 'Roadsigns_PrismToTexture' macro are explained <a href="#macros">below</a>. The variable 'Roadsigns_SymbolColor' defaults to the standard symbol color for the sign being used (e.g. black for "Warning" signs, white for "Compulsory" signs.). The background color is usually completely transparent.  
</td></tr></table>
<p>
Having done that (so long as you get the scaling of the prism in the include file and the offset defined in this macro right) you should be able to add a Hedgehog warning sign to your scene file:
<p>
<div class=codesample>
    #include "roadsigns.inc"        
<br>Roadsigns_Panel("Warning", "Hedgehog")
</div>
<p>
Alternatively, if you want to keep your own symbols separate or if you wish to build a file containing a distinct set of symbols that can be incorporated back into this collection, you can create a separate file and specify the file name using the 'Roadsigns_SymbolFile' variable before calling the 'Roadsigns_Panel' macro. 
<p>
<div class=codesample>
  #declare Roadsigns_SymbolFile = "roadsigns_hedgehogsymbols.inc";
<br>Roadsigns_Panel("Warning", "Hedgehog")
</div>
<p>
<b>Note</b>. If you get the file name wrong, or if the file is not located within the POV-Ray include path, the default file will be used. If the symbol is not found the symbol name will be displayed as text on the panel, so if your symbol name appeara on the sign instead of the graphical symbol you should check the file name and path.

<h2>Tips</h2>
<p>
Within the 'Roadsigns_UKSymbolTexture' macro in the 'roadsigns.inc' file you'll find some examples of building up more complex objects, for example objects using multiple symbols and text and using multiple coloured objects, such as in the "TrafficSignals" symbol. 
<p>
You'll notice that the symbol name (e.g. 'Hedgehog') is different from the name of the object used to create the symbol (e.g. 'Roadsigns_Hedgehog'). In fact you can have multiple symbol names that use the same object definition. For example, you may wish to change the offset to align your hedgehog for a different style of sign or you may want to change the colour of the symbol for display on a different coloured background. Also you can use multiple symbol objects to build a single road sign. For example, the "NoExplosives" symbol uses two separate prism objects, one for the car and one for the explosion erupting out of the roof. 
<p>
To change the colour of the symbol displayed (default &lt;0,0,0&gt;=Black) simply adjust the second parameter on the 'Roadsigns_PrismToTexture' macro call.

<p align=center><a href=#toc>Return to Table of Contents</a>
<hr>




  <a name='files'></a>
  <h1>Files</h1>
You should have received the following files with this distribution. The latest versions are available from <a href="http://lib.povray.org">http://lib.povray.org</a>.
  <h2>Main Files</h2>
  <table border=1>
    <tr><th>roadsigns.inc  </th><td colspan=2>
The main include file for the Roadsigns object containing the 'Roadsigns_Panel' macro.
    </td></tr>
    <tr><th>roadsigns.pov  </th><td colspan=2>
A sample scene file illustrating the use of the Roadsigns macro to generate the signs shown in the image at the top of this page.
    </td></tr>
    <tr><th>roadsigns.html </th><td colspan=2>
This document.
    </td></tr>
    <tr><th>roadsigns_documentimages.pov</th><td colspan=2>
A scene file that generated most of the images used in this document. Images can be generated one at a time or by using the animation settings that are documented in comments at the top of that scene file.
    </td></tr>
    <tr><th>roadsigns_uksymbols.inc  </th><td colspan=2>
The default symbol file containing prism objects to represent a selection of UK road sign symbols.
    </td></tr>
    <tr><th>roadsigns_hazardsymbols.inc  </th><td colspan=2>
A symbol file containing prism objects to represent a selection of hazard sign symbols. To use symbols from this file, set the 'Roadsigns_SymbolFile' variable to "roadsigns_hazardsymbols.inc" before calling the 'Roadsigns_Panel' macro. 
    </td></tr>
  </table>

<p align=center><a href=#toc>Return to Table of Contents</a>
<hr>





  <a name='redistribution'></a>
  <h1>Redistribution</h1>
The Roadsigns macros are licensed under the terms of the <a href="http://creativecommons.org/licenses/LGPL/2.1/">CC-LGPL</a> which permits (and encourages) reuse and redistribution. You can therefore incorporate these macros along with scene files that use them into a set of files that you distribute to others. 
<p>
Most of the files included with the Roadsigns macros are sample images and documentation files. If you don't wish to distribute all of these files you only need to include a copy of the file 'roadsigns.inc' and an include file containing the symbols you want to use e.g. the 'roadsigns_uksymbols.inc' file or a cut-down version of it. 
<p>
If you plan to submit your object to the <a href="http://lib.povray.org/">POV-Ray Object Collection at http://lib.povray.org/</a> you will need to rename the files to conform to the naming standards (All files from your submission will need the same unique prefix). Remember to update the renamed 'roadsigns.inc' file to point to the renamed symbols file.

<p align=center><a href=#toc>Return to Table of Contents</a>
<hr>




  <a name='macros'></a>
  <h1>Macro Reference</h1>
The macros contained in the 'roadsigns.inc' file are listed below. It is unlikely that you will need to use most of these macros, but they are described for completeness. 
<p>  
  <table border=1>
    <tr><th class=macroheaders colspan=3>Roadsigns_Panel macro      </th><tr>
    <tr><td width=20></td><td colspan=2>
The Roadsigns_Panel macro may well be the only macro you ever need to call. It defines a panel whose shape is determined based on the first parameter and adds the symbol named in the second parameter (or text if it doesn't find a symbol of that name).
<table border=1>
<tr><td>
   Style            
</td><td width=100%>
indicates the type of panel to generate ("Warning" or "Regulatory")
</td></tr>
<tr><td>
   Symbol            
</td><td width=100%>
provides the name of the symbol to use on the panel, or some text/digits to display on it.
</td></tr>
</table>
    </td></tr>
    <tr><th class=macroheaders colspan=2>Roadsigns_PrismToTexture macro      </th><tr>
    <tr><td width=20></td><td>
This utility macro takes an object that is passed to it and returns a pigment
<br>
It also centres the object at the origin and turns it through -90 degrees around the x axis.
<br>
It requires 3 parameters:
<table border=1>
<tr><td>
   SymbolObject            
</td><td width=100%>
a POV-Ray object suitable for use as a pigment (one with a well defined inside and outside)
</td></tr>
<tr><td>
   ExteriorColour            
</td><td width=100%>
a colour value for everything outside the object
</td></tr>
<tr><td>
   InteriorColour            
</td><td width=100%>
a colour value for everything inside the object
</td></tr>
</table> 
    </td></tr>
    <tr><th class=macroheaders colspan=2>Roadsigns_UKSymbolTexture macro      </th><tr>
    <tr><td width=20></td><td>
This macro tries to find the specified symbol in the uk symbols file and returns a texture using the symbol as an 
object pattern. If it's not in the list it simply returns it as a piece of text converted to a texture.
This macro requires one parameter:<br>
It also centres the object at the origin and turns it through -90 degrees around the x axis.
<p>
<table border=1>
<tr><td>
   SymbolName            
</td><td width=100%>
The name of the symbol to display. Otherwise text to display e.g. "50"
</td></tr>
</table> 
    </td></tr>
    <tr><th class=macroheaders colspan=2>Roadsigns_DefaultSettings macro      </th><tr>
    <tr><td width=20></td><td>
This macro assigns default values to any key control variables that are not yet set.
    </td></tr>
    <tr><th class=macroheaders colspan=2>Roadsigns_Undef macro      </th><tr>
    <tr><td width=20></td><td>
This macro resets key control variables so that they can revert to default values.
    </td></tr>
  </table>
  

<p align=center><a href=#toc>Return to Table of Contents</a>
<hr>

 

  <a name='variables'></a>
  <h1>Variable Reference</h1>
  <table border=1>
    <tr><th>Variable</th><th>Description</th>
    <tr><th>Roadsigns_SymbolFile          </th><td>
The file containing the definition of the symbols to be used to make the sign. This defaults to "roadsigns_uksymbols.inc" but can be set to "roadsigns_hazardsymbols.inc" for the Hazards symbols shown <a href="#hazard">above</a> or to a file of your own making.
    </td></tr>
    <tr><th>Roadsigns_Thickness          </th><td>
The thickness of the material used to make the sign. 
    </td></tr>
    <tr><th>Roadsigns_Diameter          </th><td>
The diameter of a circular sign (e.g. a "Regulatory" sign). 
    </td></tr>
    <tr><th>Roadsigns_FaceHeight          </th><td>
The height of a non-circular sign (e.g. a "Warning" sign). 
    </td></tr>
    <tr><th>Roadsigns_FaceWidth          </th><td>
The width of a rectangular sign, such as the "RoundedRectangle" and "SupplementaryInformation" signs. The width of most other shapes is determined automatically to maintain the correct proportions of the sign. 
    </td></tr>
    <tr><th>Roadsigns_CornerRadius          </th><td>
The corner radius of a rectangular sign, such as the "RoundedRectangle" and "SupplementaryInformation" signs or a triangular sign such as the "Warning" sign. This is normally defined automatically, but you can set it in your scene file. 
    </td></tr>
    <tr><th>Roadsigns_SymbolText          </th><td>
Certain road signs contain text within the symbols. Where this text is configurable you can set this variable to the required text. For example, the maximum lorry length for the "MaxTruckLength" symbol can be set using: 
<div class=codesample>
#declare Roadsigns_SymbolText = "Max 12m";
</div>
before calling the 'Roadsigns_Panel' macro.
<p>
This variable can be used with the "SteepHillDownwards" symbol and the "SteepHillDownwards" symbol to specify the gradient you wish to be displayed. It can be used with the "EndMinimumSpeed" to specify the speed and optionally with the "Parking" sign to indicate the distance to the parking area.
    </td></tr>
    <tr><th>Roadsigns_TextArray          </th><td>
This array is intended to be used with the "TextArray" symbol which retrieves the elements of text and builds a symbol that consists of those lines of text, centrally justified and scaled to fit within the height of the sign. This is most frequently used with rectangular signs, such as the "RoundedRectangle" and "SupplementaryInformation" signs. For example: 
<div class=codesample>
  #declare Roadsigns_TextArray = array [2]{"GIVE WAY","50 yds"};<br>
  object {Roadsigns_Panel("SupplementaryInformation", "TextArray")}  
</div>
can be used to generate a panel to go beneath an empty inverted red bordered triangle to give advanced warning of the distance to a Give Way line.
    </td></tr>
    <tr><th>Roadsigns_SymbolColor          </th><td>
The color of the main part of the symbol is usually determined by the type of sign, so "Compulsory" signs use white symbols and "Regulatory" signs use black symbols. If you need to override this setting you can specify the color of your choice using this variable before calling the 'Roadsigns_Panel' macro. 
    </td></tr>
    <tr><th>Roadsigns_Normal          </th><td>
You can add a surface normal definition to the texture used for the front surface of the sign by setting this value. 
    </td></tr>
    <tr><th>Roadsigns_Finish          </th><td>
You can add a surface finish definition to the texture used for the front surface of the sign by setting this value. 
    </td></tr>
    <tr><th>Roadsigns_DirtTexture          </th><td>
You can add a layer of texture on top of the other textures that are used to make up the road sign. Although this can be used for a variety of purposes, the main intention is to enable a layer of dirt to be added to obscure the surface. This is a full texture definition and can include a pigment, a normal and a finish. <b>Note.</b> The pigment has to be partially transparent or it will totally obscure the surface of the road sign. The default setting is completely transparent.
    </td></tr>
    <tr><th>Roadsigns_SignalRed          </th><td>
A colour vector defining the colour 'Signal Red' as used on UK road signs. You can change this setting in your scene file to substitute an alternative colour. 
    </td></tr>
    <tr><th>Roadsigns_MiddleBlue          </th><td>
A colour vector defining the colour 'Middle Blue' as used on UK road signs. You can change this setting in your scene file to substitute an alternative colour. 
    </td></tr>
    <tr><th>Roadsigns_Green          </th><td>
A colour vector defining the colour 'Green' as used on UK road signs (Mainly the 'GO' sign). You can change this setting in your scene file to substitute an alternative colour. 
    </td></tr>
    <tr><th>Roadsigns_Orange          </th><td>
A colour vector defining the orange colour used for the hazard signs. You can change this setting in your scene file to substitute an alternative colour. 
    </td></tr>
    <tr><th>Roadsigns_White          </th><td>
A colour vector defining the white parts of a sign. You can change this setting in your scene file to substitute an alternative colour. 
    </td></tr>
    <tr><th>Roadsigns_GreyBack          </th><td>
A colour vector defining the grey parts of a sign. You can change this setting in your scene file to substitute an alternative colour. 
    </td></tr>
    <tr><th>Roadsigns_BorderWidth          </th><td>
The width of the border around the edge of the "Warning" and "Regulatory" signs. This width is normally defined automatically, but you can set it in your scene file, although a number of dimensions are calculated based upon this value, such as the amount by which symbols are offset from their geometrical centre to 'centre' them on the road sign. 
    </td></tr>
    <tr><th>Roadsigns_Delta          </th><td>
When constructing the road sign object, certain dimensions need to be adjusted by a small amount to avoid coincident surfaces. This variable controls that amount and is usually set to 0.0000001. This should not normally need to be changed.
    </td></tr>   
</table> 

<p align=center><a href=#toc>Return to Table of Contents</a>
<hr>
 
</body>
</html>